def safeExtGet(prop, fallback) {
    return rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
}

apply plugin: 'com.android.library'

android {
    // Use Android Gradle Plugin version 7.3.x or later for best practices
    compileSdkVersion '33'
    buildToolsVersion '33.0.0'

    defaultConfig {
        minSdkVersion safeExtGet('minSdkVersion', 21) // Consider targeting minSdkVersion 23 or higher based on your library's requirements
        targetSdkVersion safeExtGet('targetSdkVersion', 33) // Use the latest supported targetSdkVersion for broader compatibility
        versionCode 1
        versionName "1.0"
    }

    buildTypes {
        release {
            minifyEnabled false // Consider using ProGuard or R8 for release builds, especially for production
            // Configure appropriate ProGuard/R8 rules if needed
        }
    }

    // Use AndroidX libraries instead of deprecated support libraries
    def androidxAppCompatVersion = '1.6.0'
    def androidxTestJUnitVersion = '1.1.4'

    dependencies {
        implementation fileTree(dir: 'libs', include: ['*.jar'])

        // Test dependency (use JUnit 5 for newer projects)
        testImplementation "androidx.test.ext:junit:1.1.4"

        // AndroidX AppCompat (adjust version as needed)
        implementation "androidx.appcompat:appcompat:$androidxAppCompatVersion"

        // React Native dependency (specify the exact version from your project)
        implementation "com.facebook.react:react-native:+" 
    }
}